<UserControl x:Class="ShadowrunTracker.Wpf.Views.NewParticipantView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:mui="http://schemas.modernwpf.com/2019"
             xmlns:v="clr-namespace:ShadowrunTracker.Wpf.Views"
             xmlns:vm="clr-namespace:ShadowrunTracker.ViewModels;assembly=ShadowrunTracker.ViewModels"
             mc:Ignorable="d" 
             d:DataContext="{d:DesignInstance Type=vm:NewCharacterViewModel, IsDesignTimeCreatable=True}"
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <Style TargetType="{x:Type mah:NumericUpDown}">
            <Setter Property="Minimum" Value="1" />
            <EventSetter Event="GotKeyboardFocus" Handler="OnNumericKeyboardFocus" />
        </Style>
    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>

        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Border Grid.Row="0" Margin="2" Padding="3" BorderThickness="1" BorderBrush="Black" DataContext="{Binding Character}">
            <mui:SimpleStackPanel Orientation="Horizontal" Spacing="2" FlowDirection="LeftToRight">
                <Label FontWeight="Bold">Alias</Label>
                <TextBox Text="{Binding Alias}" MinWidth="150" />
                <Label FontWeight="Bold">Edge</Label>
                <mah:NumericUpDown Value="{Binding BaseEdge}" Minimum="1" />
                <Separator Width="2" VerticalAlignment="Stretch" Background="Transparent" BorderBrush="Transparent" />
                <ToggleButton HorizontalAlignment="Right" Name="isPlayerCheck" IsChecked="{Binding IsPlayer}">Is Player</ToggleButton>
                <StackPanel Orientation="Horizontal">
                    <StackPanel.Style>
                        <Style TargetType="StackPanel">
                            <Setter Property="Visibility" Value="Hidden" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsPlayer}" Value="True">
                                    <Setter Property="Visibility" Value="Visible" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </StackPanel.Style>
                    <Label HorizontalAlignment="Right" >Player</Label>
                    <TextBox MinWidth="150" Text="{Binding Player}" />
                </StackPanel>
                <Button Click="Button_Click">Test</Button>
            </mui:SimpleStackPanel>
        </Border>
        <Grid Grid.Row="1" Margin="2" DataContext="{Binding Character}">
            <Grid.Resources>
                <Style TargetType="Label">
                    <Setter Property="HorizontalAlignment" Value="Center" />
                    <Setter Property="FontWeight" Value="Bold" />
                </Style>
            </Grid.Resources>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition  />
                <RowDefinition  />
            </Grid.RowDefinitions>
            <Label Grid.Column="0" Grid.Row="0" >Body</Label>
            <mah:NumericUpDown Grid.Column="0" Grid.Row="1" Value="{Binding BaseBody}" ></mah:NumericUpDown>

            <Label Grid.Column="1" Grid.Row="0" >Agility</Label>
            <mah:NumericUpDown Grid.Column="1" Grid.Row="1" Value="{Binding BaseAgility}" ></mah:NumericUpDown>

            <Label Grid.Column="2" Grid.Row="0" >Reaction</Label>
            <mah:NumericUpDown Grid.Column="2" Grid.Row="1" Value="{Binding BaseReaction}" ></mah:NumericUpDown>

            <Label Grid.Column="3" Grid.Row="0" >Strength</Label>
            <mah:NumericUpDown Grid.Column="3" Grid.Row="1" Value="{Binding BaseStrength}" ></mah:NumericUpDown>

            <Label Grid.Column="4" Grid.Row="0" >Charisma</Label>
            <mah:NumericUpDown Grid.Column="4" Grid.Row="1" Value="{Binding BaseCharisma}" ></mah:NumericUpDown>

            <Label Grid.Column="5" Grid.Row="0" >Intuition</Label>
            <mah:NumericUpDown Grid.Column="5" Grid.Row="1" Value="{Binding BaseIntuition}" ></mah:NumericUpDown>

            <Label Grid.Column="6" Grid.Row="0" >Logic</Label>
            <mah:NumericUpDown Grid.Column="6" Grid.Row="1" Value="{Binding BaseLogic}" ></mah:NumericUpDown>

            <Label Grid.Column="7" Grid.Row="0" >Willpower</Label>
            <mah:NumericUpDown Grid.Column="7" Grid.Row="1" Value="{Binding BaseWillpower}" ></mah:NumericUpDown>
        </Grid>
        <ListBox ItemsSource="{Binding Initiatives}" Grid.Row="2" >
            <ListBox.Style>
                <Style TargetType="ListBox" >
                    <Setter Property="KeyboardNavigation.TabNavigation" Value="Continue" />
                </Style>
            </ListBox.Style>
            <ListBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <UniformGrid Rows="1" />
                </ItemsPanelTemplate>
            </ListBox.ItemsPanel>
            <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem" BasedOn="{StaticResource ListBoxItemStyle1}">
                    <Setter Property="IsTabStop" Value="False"/>
                    <Setter Property="Focusable" Value="False" />
                </Style>
            </ListBox.ItemContainerStyle>
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <v:InitiativeScoreEntryView IsTabStop="False" DataContext="{Binding}" />
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <!--<Grid Grid.Row="2">
            <Grid.ColumnDefinitions>

            </Grid.ColumnDefinitions>
        </Grid>-->
    </Grid>
</UserControl>
